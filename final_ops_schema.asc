Version 4.1
SHEET 1 2416 1432
WIRE 128 -112 -112 -112
WIRE 368 -112 128 -112
WIRE 864 -112 368 -112
WIRE 1040 -112 864 -112
WIRE 368 -80 368 -112
WIRE 448 -80 368 -80
WIRE 128 -64 128 -112
WIRE 128 -64 32 -64
WIRE 128 -48 128 -64
WIRE 368 -48 368 -80
WIRE 208 -32 176 -32
WIRE 320 -32 208 -32
WIRE 1040 -32 1040 -112
WIRE 32 0 32 -64
WIRE 128 0 32 0
WIRE 448 0 448 -80
WIRE 448 0 368 0
WIRE 864 48 864 -112
WIRE 960 48 864 48
WIRE 864 64 864 48
WIRE -112 80 -112 -112
WIRE 128 80 128 48
WIRE 208 80 208 -32
WIRE 208 80 128 80
WIRE 368 80 368 48
WIRE 688 80 368 80
WIRE 816 80 688 80
WIRE 1040 80 1040 48
WIRE 960 112 960 48
WIRE 960 112 864 112
WIRE 128 144 128 80
WIRE 368 144 368 80
WIRE 688 176 688 80
WIRE 864 176 864 160
WIRE 864 176 752 176
WIRE 224 192 128 192
WIRE 368 192 272 192
WIRE 864 208 864 176
WIRE 928 208 864 208
WIRE 1056 208 928 208
WIRE 1072 208 1056 208
WIRE 80 224 16 224
WIRE 544 224 416 224
WIRE 224 240 224 192
WIRE 224 240 128 240
WIRE 272 240 272 192
WIRE 368 240 272 240
WIRE 16 256 16 224
WIRE 544 256 544 224
WIRE 128 272 128 240
WIRE 256 272 128 272
WIRE 368 272 368 240
WIRE 368 272 256 272
WIRE 256 352 256 272
WIRE 544 352 544 336
WIRE 16 368 16 336
WIRE 352 400 256 400
WIRE 272 448 256 448
WIRE 272 464 272 448
WIRE 352 464 352 400
WIRE 352 464 272 464
WIRE 272 480 272 464
WIRE -112 528 -112 160
WIRE -32 528 -112 528
WIRE -112 560 -112 528
WIRE 864 560 864 208
WIRE -112 608 -224 608
WIRE 960 608 864 608
WIRE -32 640 -32 528
WIRE -32 640 -64 640
WIRE 208 640 208 432
WIRE 208 640 -32 640
WIRE 816 640 208 640
WIRE -224 656 -224 608
WIRE -112 656 -224 656
WIRE 864 672 864 656
WIRE 960 672 960 608
WIRE 960 672 864 672
WIRE -112 688 -112 656
WIRE 864 688 864 672
FLAG 1040 80 0
FLAG 16 368 0
FLAG 544 352 0
FLAG 928 272 0
FLAG 1056 208 Vout
FLAG -112 688 0
FLAG 272 480 0
FLAG 864 688 0
FLAG 16 224 Vin1
FLAG 544 224 Vin2
SYMBOL nmos4 80 144 R0
SYMATTR InstName M1
SYMATTR Value2 l={L1} w={W1}
SYMBOL nmos4 208 352 R0
SYMATTR InstName M5
SYMATTR Value2 l={L5} w={W5}
SYMBOL nmos4 -64 560 M0
SYMATTR InstName M8
SYMATTR Value2 l={L5} w={W5}
SYMBOL current -112 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value {IB}
SYMBOL pmos4 176 48 R180
WINDOW 3 60 67 Left 2
SYMATTR InstName M3
SYMATTR Value2 l={L3} w={W3}
SYMBOL pmos4 320 48 M180
WINDOW 0 35 32 Left 2
WINDOW 3 28 65 Left 2
SYMATTR InstName M4
SYMATTR Value2 l={L3} w={W3}
SYMBOL voltage 1040 -48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage 16 240 R0
WINDOW 123 -97 134 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -99 106 Left 2
WINDOW 0 -100 70 Left 2
SYMATTR Value2 AC 0.01
SYMATTR Value SINE(2.845 0.01 50)
SYMATTR InstName V2
SYMBOL nmos4 416 144 M0
SYMATTR InstName M2
SYMATTR Value2 l={L1} w={W1}
SYMBOL voltage 544 240 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 124 Left 2
WINDOW 123 24 152 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(2.845 -0.01 50)
SYMATTR Value2 AC -0.01
SYMBOL pmos4 816 160 M180
SYMATTR InstName M6
SYMATTR Value2 l={L6} w={W6}
SYMBOL nmos4 816 560 R0
SYMATTR InstName M7
SYMATTR Value2 l={L7} w={W7}
SYMBOL cap 912 208 R0
SYMATTR InstName CL
SYMATTR Value 100p
SYMBOL cap 752 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CC
SYMATTR Value {CC}
TEXT 120 1032 Left 2 !.ac dec 100 10 1G
TEXT -296 736 Left 2 !.model NMOS NMOS ( kp = 100u vt0 = 0.4 lambda = 0.011 )
TEXT -296 768 Left 2 !.model PMOS PMOS ( kp = 50u vt0 = -0.4 lambda = 0.052 )
TEXT -264 824 Left 2 !.MEAS AC Gain FIND V(vout) AT 10Hz\n.meas AC UGBW WHEN mag(V(vout))=1\n.meas AC PM FIND ph(V(vout)) WHEN mag(V(vout))=1
TEXT 376 832 Left 2 !.OPTIONS ALLOW_AMBIGUOUS_MODELS
TEXT 128 968 Left 2 ;.op
TEXT -1592 488 Left 2 !.param W1=15.878u L1=509.310n W3=11.818u L3=300.401n W5=7.292u L5=467.343n  \n.param W6=107.865u L6=274.677n W7=15.130u L7=204.590n IB=29.990u CC=2.194p
TEXT -1488 640 Left 2 !.meas TRAN P_M1 AVG (V(N002)-V(N004)) * Id(M1)\n.meas TRAN P_M2 AVG (V(N003)-V(N004)) * Id(M2)\n.meas TRAN P_M3 AVG (V(N002)-V(N001)) * Id(M3)\n.meas TRAN P_M4 AVG (V(N003)-V(N001)) * Id(M4)\n.meas TRAN P_M5 AVG (V(N004)) * Id(M5)\n.meas TRAN P_M6 AVG (V(Vout)-V(N001)) * Id(M6)\n.meas TRAN P_M7 AVG (V(Vout)) * Id(M7)\n.meas TRAN P_M8 AVG (V(N005)) * Id(M8)\n.meas TRAN Total_Power param P_M1 + P_M2 + P_M3 + P_M4 + P_M5 + P_M6 + P_M7 + P_M8
TEXT 120 1088 Left 2 ;.tran 1u 1m
TEXT -1504 976 Left 2 !.meas TRAN SR_calc PARAM IB/CC
TEXT -1488 1248 Left 2 !.meas AREA_W1 PARAM W1 * L1\n.meas AREA_W3 PARAM W3 * L3\n.meas AREA_W5 PARAM W5 * L5\n.meas AREA_W6 PARAM W6 * L6\n.meas AREA_W7 PARAM W7 * L7\n \n.meas TOTAL_AREA PARAM AREA_W1 + AREA_W3 + AREA_W5 + AREA_W6 + AREA_W7
